{% extends "jinhtml/skel.html" %}
{% block headcss %}
	<style>
		thead tr > td {
			font-size:1.5em;
		}
		td {
			border-width:0px 1px 1px 0px;
			border-style:solid;
			font-size:1.2em;
		}
		table#listcal {
			border-width:1px 0px 0px 1px;
			border-style:solid;
			border-color:black;
			text-align:center;
		}
		tr.event > td {
			padding:20px;
		}
		td {
			height:20px;
		}
		td.date {
			min-width:25px;
			width:100px;
		}
		td.week {
			width:80px;
		}
		td.time {
			width:150px;
		}
		div#unmatchedmessage {
			text-align:center;
			font-size:2em;
			display:none;
		}
	</style>
{% endblock %}

{% block onload %}
	pushevent (); 
	pushtestdata ();
	var switchlistobj = document.getElementById("switchlist")
	switchlistobj.className += "selected";
	switchlistobj.onclick = "";
{% endblock %}

{% block headjs %}
	<script src = "/js/list.js" type = "text/javascript"></script>
	<script>
		function pushtestdata () {//push test data
			var classname = ["date", "week", "time", "content"];
			var testevents = new Array ();
			testevents.push ("2012.11.28", "星期三", "20:30 - 22:00", "期末Project Online");
			testevents.push ("2012.12.1", "星期六", "8:30 - 11:30", "校園馬拉松");
			testevents.push ("2012.12.21", "星期五", "?:?? - ?:??", "世界末日");
			testevents.push ("2013.1.7", "星期一", "0:00 - ", "期末考Online");
			testevents.push ("2013.6.20", "星期四", "0:00 - 24:00", "生日大會");
			for (var i = 0 ; i < testevents.length ; i++) {
				$ ("#event" + Math.floor (i / 4 + 1) + classname[i % 4]).text (testevents[i]);
			}
		}
		function pushdata () {
			$.ajax ({
				type: "POST",
				url: "/access/insert",
				data: "title=123&content=eventcontent&icon=5&beginyear=2012&beginmonth=12&begindate=16&endyear=2012&endmonth=12&enddate=22&datafrom=google",
				success: function () {
					alert ("POST SUCCESS!!");
				}
			});
		}
	</script>
{% endblock %}

{% block body %}
	<div id = "searchbar" align = "center">
		<select id = "searchingoption" onchange = "changesearchingbar (this);">
			<option value = "date"> 日期 </option>
			<option value = "content" selected = "selected"> 內容 </option>
		</select>
		<input id = "searchingcontent" type = "text" onkeyup = "searchevent ();">
		<div id = "searchingdate" style = "display:none;">
			<input id = "searchingdatemonth" type = "text" size = "2" onkeyup = "searchevent ();"> 月
			<input id = "searchingdateday" type = "text" size = "2" onkeyup = "searchevent ();"> 日
		</div>
	</div>
	<div align = "center">
		<table id = "listcal" cellpadding = "0" cellspacing = "0" style = "width:1880px;">
			<thead>
				<tr>
					<td colspan = "3" id = "date"> 日期 </td>
					<td id = "eventcontent" style = "width:1418px;"> 內容 </td>
				</tr>
			</thead>
			<tbody id = "eventbody">
			</tbody>
		</table>
	</div>
	<div id = "unmatchedmessage">
		找不到匹配項
	</div>
	<button type = "button" onclick = "pushdata ();"> Click Me !! </button>
{% endblock %}